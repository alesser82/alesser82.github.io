!function(e){e.fn.typewrite=function(t){var l=e.extend({speed:20,blinkSpeed:2,showCursor:!0,blinkingCursor:!1,cursor:"|",selectedBackground:"#F1F1F1",selectedText:"#333333"},t);l.blinkSpeed=1e3/l.blinkSpeed,l.showCursor?(e(this).html('<span></span><span class="blinkingCursor">'+l.cursor+"</span>"),l.blinkingCursor&&setInterval(function(){e(".blinkingCursor").toggle()},l.blinkSpeed)):e(this).html("<span></span>"),l.mainel=this,l.el=e(this).children("span")[0],l.speed=1e3/l.speed;var n=t.actions;l.queue=n.length,e(l.mainel).trigger("typewriteStarted"),n.forEach(function(t,n){var r,i,s,u,a;("select"!==Object.keys(t)[0]&&function(){if(e(".typewriteSelected").length>0){var t=e(".typewriteSelected").text();e(".typewriteSelected").replaceWith(t)}}(),"type"===Object.keys(t)[0])&&("<br>"===t.type?e(l.el).delay(l.speed).queue(function(t){var n=e(this).html().substring(0,e(this).html().length-1);e(this).html(n+"<br>"),t(),l.queue=l.queue-1,e(l.mainel).trigger("typewriteNewLine")}):function(t){var n=t.split("");n.forEach(function(t,r){e(l.el).delay(l.speed).queue(function(i){var s=e(this).html()+t;e(this).html(s),i(),r===n.length-1&&(l.queue=l.queue-1,e(l.mainel).trigger("typewriteTyped",s))})},this)}(e("<div/>").html(t.type).text()));"delay"===Object.keys(t)[0]&&(r=t.delay,e(l.el).delay(r).queue(function(t){t(),l.queue=l.queue-1,e(l.mainel).trigger("typewriteDelayEnded")})),"speed"===Object.keys(t)[0]&&(l.speed=1e3/t.speed),"remove"===Object.keys(t)[0]&&function(t){var n=new Array(t.num+1).join(" ").split(""),r=void 0!==t.type?t.type:"stepped";"stepped"!==r&&"whole"!==r&&(r="stepped");"stepped"===r&&n.forEach(function(r,i){e(l.el).delay(l.speed).queue(function(r){e(l.el).html(e(l.el).html().replace(/<br.*?>/g," \n "));var s=e(this).text().substring(0,e(this).text().length-1);e(this).html(s.replace(/ \n /g,"<br>")),r(),i===n.length-1&&(l.queue=l.queue-1,e(l.mainel).trigger("typewriteRemoved",t))})},this);"whole"===r&&e(l.el).delay(l.speed).queue(function(n){e(l.el).html(e(l.el).html().replace(/<br.*?>/g," \n "));var r=e(this).text().substring(0,e(this).text().length-t.num);e(this).html(r.replace(/ \n /g,"<br>")),n(),l.queue=l.queue-1,e(l.mainel).trigger("typewriteRemoved",t)})}(t.remove),"select"===Object.keys(t)[0]&&(i=t.select,s=i.to-i.from,u='<span class="typewriteSelected" style="background-color:'+l.selectedBackground+"; color: "+l.selectedText+'">',(a=new Array(s+1).join(" ").split("")).forEach(function(t,n){e(l.el).delay(l.speed).queue(function(t){n++;var r=i.to-n;e(l.el).html(e(l.el).html().replace(/<br.*?>/g," \n "));var s=e(l.el).text(),p=s.slice(0,r),c=s.slice(r,i.to),o=s.slice(i.to,s.length),h=p+u+c+"</span>"+o;e(this).html(h.replace(/ \n /g,"<br>")),t(),n===a.length-1&&(l.queue=l.queue-1,e(l.mainel).trigger("typewriteSelected",i))})}))});var r=setInterval(function(){0===l.queue&&(clearInterval(r),e(l.mainel).trigger("typewriteComplete"))},500)}}(jQuery);